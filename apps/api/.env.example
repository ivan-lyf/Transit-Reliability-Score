# Transit Reliability Score API - Environment Variables

# Application
APP_NAME="Transit Reliability Score API"
APP_VERSION="0.1.0"
ENVIRONMENT="development"
DEBUG=false
LOG_LEVEL="INFO"

# Database (PostgreSQL)
DATABASE_URL="postgresql+asyncpg://postgres:postgres@localhost:5432/transit"

# Redis (optional - for caching)
# REDIS_URL="redis://localhost:6379/0"
# CACHE_TTL_SECONDS=300

# TransLink API
# TRANSLINK_API_KEY="YOUR_TRANSLINK_API_KEY"

# GTFS-RT Feed URLs (defaults are TransLink)
# TRIP_UPDATES_URL="https://gtfsapi.translink.ca/v3/gtfsrealtime?apikey=${TRANSLINK_API_KEY}"
# VEHICLE_POSITIONS_URL="https://gtfsapi.translink.ca/v3/gtfsposition?apikey=${TRANSLINK_API_KEY}"
# SERVICE_ALERTS_URL="https://gtfsapi.translink.ca/v3/gtfsalerts?apikey=${TRANSLINK_API_KEY}"
# Legacy env names are still supported:
# GTFS_TRIP_UPDATES_URL="https://gtfsapi.translink.ca/v3/gtfsrealtime"
# GTFS_VEHICLE_POSITIONS_URL="https://gtfsapi.translink.ca/v3/gtfsposition"
# GTFS_SERVICE_ALERTS_URL="https://gtfsapi.translink.ca/v3/gtfsalerts"
# GTFS_STATIC_URL="https://gtfs-static.translink.ca"
# STATIC_GTFS_URL="https://gtfs-static.translink.ca"

# Static GTFS Importer (Stage 3)
# Batch size for DB upserts during import (default: 1000)
# IMPORT_BATCH_SIZE=1000
# Fail on first normalization error (default: false)
# GTFS_IMPORT_STRICT=false

# Polling Configuration
# GTFS_RT_POLL_INTERVAL_SEC=30
# STALE_FEED_THRESHOLD_SEC=120
# GTFS_RT_FETCH_TIMEOUT_SEC=30
# GTFS_RT_MAX_RETRIES=3
# GTFS_RT_BACKOFF_BASE=2.0
# GTFS_RT_BATCH_SIZE=500
# GTFS_RT_AUTO_START=false

# Scoring Configuration
# ON_TIME_THRESHOLD_SEC=120
# P95_MAX_DELAY_SEC=900
# P50_MAX_DELAY_SEC=300
# WEIGHT_ON_TIME_RATE=0.6
# WEIGHT_P95_COMPONENT=0.25
# WEIGHT_P50_COMPONENT=0.15

# API Limits
# DEFAULT_NEARBY_RADIUS_KM=0.5
# MAX_NEARBY_RADIUS_KM=5.0
# RISKY_STOPS_DEFAULT_LIMIT=10
# TREND_DEFAULT_DAYS=7
# DEFAULT_PAGE_SIZE=20
# MAX_PAGE_SIZE=100

# Data Attribution (configurable per TransLink requirements)
# DATA_ATTRIBUTION="Transit data provided by TransLink. This data is provided 'as is' without warranty."
# TRANSLINK_TERMS_URL="https://www.translink.ca/about-us/doing-business-with-translink/app-developer-resources/translink-open-api"

# Supabase Auth
SUPABASE_URL=""
SUPABASE_ANON_KEY=""
SUPABASE_SERVICE_ROLE_KEY=""
